{% extends 'base.html' %}
{% block content %}
  <div class="max-w-6xl mx-auto py-12">
    <h1 class="text-2xl font-bold mb-6">My Bookings</h1>

    <!-- Messages -->
    {% if messages %}
      <div class="mb-4">
        {% for message in messages %}
          <div class="p-4 rounded-lg 
            {% if message.tags == 'success' %}
           
               bg-green-100 text-green-800

            {% elif message.tags == 'error' %}
             
               bg-red-100 text-red-800

            {% else %}
              
               bg-gray-100 text-gray-800

            {% endif %}">{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}

    <!-- Booking -->
    {% if bookings %}
      <ul class="space-y-4">
        {% for booking in bookings %}
          <li class="bg-white shadow p-4 rounded-lg flex justify-between items-center">
            <div>
              <p class="font-semibold">{{ booking.room.name }} ({{ booking.room.number }})</p>
              <p class="text-gray-600">{{ booking.start_time|date:'Y-m-d' }}
                ({{ booking.start_time|time:'H:i' }} – {{ booking.end_time|time:'H:i' }})</p>
            </div>
            <form method="post" class="ml-4">
              {% csrf_token %}
              <input type="hidden" name="booking_id" value="{{ booking.id }}" />
              <button type="submit" class="bg-red-700 text-white px-3 py-1 rounded hover:bg-red-800" onclick="return confirm('Are you sure you want to cancel this room?');">Cancel</button>
            </form>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-gray-600">You don’t have any bookings yet.</p>
    {% endif %}
  </div>
{% endblock %}
